(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,a,t){},106:function(e,a,t){},162:function(e,a,t){},164:function(e,a,t){},207:function(e,a,t){},208:function(e,a,t){},220:function(e,a,t){},226:function(e,a,t){},227:function(e,a,t){},229:function(e,a,t){},230:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(24),c=t.n(l),o=(t(101),t(9)),i=t(10),s=t(12),u=t(11),d=t(13),m=t(22),p=t(21),h=t(84),y=t.n(h),b=(t(106),"card-body"),f="card",E=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"getCrad",value:function(){var e=this.props.card;return f+" "+e.suit+e.number}},{key:"render",value:function(){return r.a.createElement(y.a,{className:b},r.a.createElement("div",{className:this.getCrad()}))}}]),a}(n.Component),C=function(e){for(var a=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],t=["C","D","H","S"],n=[],r=[],l=0;l<a.length;l++)for(var c=0;c<t.length;c++)r.push({number:a[l],suit:t[c]});for(var o=0;o<e;o++)n=n.concat(r);return function(e){for(var a,t,n=e.length;0!==n;)t=Math.floor(Math.random()*n),a=e[n-=1],e[n]=e[t],e[t]=a;return e}(n)},v=function(e){var a=!1,t=(e=(e=e.map(function(e){return e.number})).map(function(e){switch(e){case"A":return a?1:(a=!0,11);case"J":case"Q":case"K":return 10;default:return parseInt(e,10)}})).reduce(function(e,a){return e+a},0);return a&&t>21?{sum:t-=10,containAce:!1}:{sum:t,containAce:a}},O=function(e,a){return a>21||21===e&&21!==a?"Dealer Wins":e>21||21===a&&21!==e?"Player Wins":a<e?"Dealer Wins":a>e?"Player Wins":"Tie"},j=t(43),k=t.n(j),g=t(44),N=t.n(g),S=t(45),R=t.n(S),w=t(46),D=t.n(w),A=t(47),T=t.n(A),_=t(26),W=t.n(_),G=t(14),B=t.n(G),L=(t(162),"statistic-panel-body"),M="end-shoe-statistic-panel-body",P="statistic-panel-title",U=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.dealerWinCount,t=e.playerWinCount,n=e.tieCount,l=e.remainingCards,c=e.endShoeSummary,o=r.a.createElement("div",null,r.a.createElement(B.a,{className:P,variant:"title",color:"inherit"},"Game Statistic:"),r.a.createElement(B.a,{className:P,variant:"caption",color:"inherit"},"(Data will be updated at the end of each round)")),i=r.a.createElement("div",null,r.a.createElement(B.a,{className:P,variant:"title",color:"inherit"},"End Shoe Statistic:"));return r.a.createElement("div",null,r.a.createElement(W.a,{className:c?M:L,elevation:3},r.a.createElement("div",null,c?i:o,r.a.createElement("p",null,"Dealer win count: ",a),r.a.createElement("p",null,"Player win count: ",t),r.a.createElement("p",null,"Tie count: ",n),c?"":r.a.createElement("p",null,"Remaining cards: ",l))))}}]),a}(n.Component),H=Object(p.b)(function(e,a){return Object(m.a)({},a,e.statistic)},function(e,a){return{}})(U),I=(t(164),"dialog"),x="title",J="content",z="start-button",V=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.open,t=e.onReloadCardsClick;return r.a.createElement("div",null,r.a.createElement(k.a,{onClose:t,"aria-labelledby":"customized-dialog-title",open:a,className:I},r.a.createElement(N.a,{className:x},"No more cards"),r.a.createElement(R.a,{className:J},r.a.createElement(H,{endShoeSummary:!0})),r.a.createElement(D.a,{className:z},r.a.createElement(T.a,{variant:"extended",onClick:t,color:"primary","aria-label":"Add"},"Start a new shoe"))))}}]),a}(n.Component),K=(t(207),"dealer-panel"),Q="player-panel",X="board-wrapper",F=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidUpdate",value:function(){var e=this.props,a=e.dealerCards,t=e.playerCards,n=e.onCalculateRoundResult,r=e.onUpdateStatistic,l=e.cards,c=e.startGame;if(0===a.length&&0===t.length)return c(l);var o=v(t).sum,i=v(a).sum;(1!==a.length||o>21||21===o&&2===t.length)&&(n(i,o),r(i,o,l))}},{key:"CreateDealerCards",value:function(){return this.props.dealerCards.map(function(e){return r.a.createElement(E,{key:e.number+Math.random(),card:e})})}},{key:"CreatePlayerCards",value:function(){return this.props.playerCards.map(function(e){return r.a.createElement(E,{key:e.number+Math.random(),card:e})})}},{key:"ReloadShoe",value:function(){var e=this.props;(0,e.ReloadCards)(e.cards)}},{key:"render",value:function(){return this.props.shoeEnd?r.a.createElement(V,{open:!0,onReloadCardsClick:this.ReloadShoe.bind(this)}):r.a.createElement("div",{className:X},r.a.createElement("div",{className:K},this.CreateDealerCards()),r.a.createElement("div",{className:Q},this.CreatePlayerCards()))}}]),a}(n.Component),Y="LOAD_CARDS",q="ADD_DEALER_CARD",Z="REST_CARDS",$="ADD_PLAYER_CARD",ee="DEALER_DRAW_TO_SEVENTEEN",ae="CALCULATE_ROUND_RESULT",te="RESET_ROUND_RESULT",ne="CALCULATE_STATISTIC",re="RESET_STATISTIC",le="RESET_ROUND_END",ce=function(){return{type:Y,payload:C(6)}},oe=function(e){var a=Math.floor(Math.random()*e.length),t=e[a];return{type:q,payload:{card:[t],position:a}}},ie=function(e){var a=Math.floor(Math.random()*e.length),t=e[a];return{type:$,payload:{card:[t],position:a}}},se=function(){return{type:le,payload:{roundEnd:!1,result:""}}},ue=function(e){return{type:re,payload:{remainingCards:e.length}}},de=Object(p.b)(function(e,a){return console.log(e),Object(m.a)({},a,{dealerCards:e.dealerCards,playerCards:e.playerCards,cards:e.cards,shoeEnd:0===e.cards.length})},function(e,a){return{onCalculateRoundResult:function(a,t){return e((r=t,{type:ae,payload:{roundEnd:!0,result:0===(n=a)?"":O(n,r)}}));var n,r},onUpdateStatistic:function(a,t,n){return e(function(e,a,t){return{type:ne,payload:{roundResult:0===e?"":O(e,a),remainingCards:t.length}}}(a,t,n))},startGame:function(a){e(oe(a)),e(ie(a)),e(ie(a))},ReloadCards:function(a){e(ce()),e(ue(a)),e(se())}}})(F),me=t(25),pe=Object(me.c)({cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Y:return a.payload;case q:case $:var t=e,n=a.payload.position;return n>-1&&t.splice(n,1),t;case ee:return t=e,a.payload.position.forEach(function(e){e>-1&&t.splice(e,1)}),t;default:return e}},dealerCards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case q:return e.concat(a.payload.card);case Z:return a.payload;case Y:return[];case ee:return a.payload.cards;default:return e}},playerCards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case $:return e.concat(a.payload.card);case Z:return a.payload;case Y:return[];default:return e}},roundResult:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{roundEnd:!1,result:""},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case ae:case te:return Object.assign({},a.payload);default:return e}},statistic:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{dealerWinCount:0,playerWinCount:0,tieCount:0,remainingCards:0},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case ne:var t=a.payload,n=t.roundResult,r=t.remainingCards;return{dealerWinCount:"Dealer Wins"===n?++e.dealerWinCount:e.dealerWinCount,playerWinCount:"Player Wins"===n?++e.playerWinCount:e.playerWinCount,tieCount:"Tie"===n?++e.tieCount:e.tieCount,remainingCards:r};case re:return{dealerWinCount:0,playerWinCount:0,tieCount:0,remainingCards:a.payload.remainingCards};default:return e}}}),he=t(85),ye=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||me.d,be=Object(me.e)(pe,ye(Object(me.a)(he.a))),fe=t(86),Ee=t.n(fe),Ce=t(87),ve=t.n(Ce),Oe=t(88),je=t.n(Oe),ke=t(53),ge=t.n(ke),Ne=(t(208),"app-header"),Se="header-font",Re="view-source-code",we=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"openGithubPage",value:function(){window.open("https://github.com/waynezhang1995/Blackjack-Simulator","_blank")}},{key:"render",value:function(){return r.a.createElement(Ee.a,{className:Ne,position:"static",color:"primary",elevation:3},r.a.createElement(ve.a,null,r.a.createElement(B.a,{variant:"title",className:Se,color:"inherit"},r.a.createElement("span",{role:"img","aria-label":"poker"},"\u2660\ufe0f")," Blackjack Simulator ",r.a.createElement("span",{role:"img","aria-label":"poker"},"\u2665\ufe0f")),r.a.createElement(ge.a,{onClick:this.openGithubPage,variant:"contained",color:"primary",className:Re},"View Source Code",r.a.createElement(je.a,null))))}}]),a}(n.Component),De=t(89),Ae=t.n(De),Te=t(90),_e=t.n(Te),We=t(33),Ge=t.n(We),Be=t(94),Le=t.n(Be),Me=t(91),Pe=t.n(Me),Ue=t(92),He=t.n(Ue),Ie=t(93),xe=t.n(Ie),Je=(t(220),"control-panel"),ze="label-font",Ve="button-play",Ke="button-hit",Qe="button-stand",Xe="button-reload",Fe="button-disabled",Ye="control-panel-body",qe=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.loadCards)(e.cards)}},{key:"render",value:function(){var e=this.props,a=e.loadCardsClick,t=e.startGameClick,n=e.playerHitClick,l=e.playerStandClick,c=e.roundResult.roundEnd;return r.a.createElement(Ae.a,{item:!0,xs:12,className:Je},r.a.createElement(_e.a,{className:Ye,showLabels:!0},r.a.createElement(Ge.a,{className:c?"":Fe,onClick:t,label:"Next Game",classes:{label:ze},icon:r.a.createElement(Pe.a,{className:Ve})}),r.a.createElement(Ge.a,{className:c?Fe:"",onClick:n,label:"Hit",classes:{label:ze},icon:r.a.createElement(He.a,{className:Ke})}),r.a.createElement(Ge.a,{className:c?Fe:"",onClick:l,label:"Stand",classes:{label:ze},icon:r.a.createElement(xe.a,{className:Qe})}),r.a.createElement(Ge.a,{onClick:a,label:"Reload",classes:{label:ze},icon:r.a.createElement(Le.a,{className:Xe})})))}}]),a}(n.Component),Ze=Object(p.b)(function(e,a){return Object(m.a)({},a,e)},function(e,a){return{loadCards:function(a){e(ce()),e(ue(a)),e(se())},startGame:function(a){e({type:Z,payload:[]}),e(oe(a)),e(ie(a)),e(ie(a)),e({type:te,payload:{roundEnd:!1,result:""}})},playerHit:function(a){return e(ie(a))},playerStand:function(a,t){e(function(e,a){for(var t=[],n=0;n<17;){var r=Math.floor(Math.random()*e.length),l=e[r];t.push(r),a=a.concat([l]),n=v(a).sum}return{type:ee,payload:{cards:a,position:t}}}(a,t))}}},function(e,a,t){return Object(m.a)({},e,a,{startGameClick:function(){a.startGame(e.cards)},playerHitClick:function(){a.playerHit(e.cards)},loadCardsClick:function(){a.loadCards(e.cards)},playerStandClick:function(){a.playerStand(e.cards,e.dealerCards)}})})(qe),$e=(t(226),"summary-panel-body"),ea="summary-section",aa=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.display,t=e.playerTotal,n=e.dealerTotal,l=e.roundResult,c=l.roundEnd,o=l.result;return r.a.createElement("div",null,r.a.createElement(W.a,{style:{display:a},className:$e,elevation:3},r.a.createElement("div",{className:ea},r.a.createElement("p",null,"Dealer has: ",n),r.a.createElement("p",null,"Player has: ",t),r.a.createElement("p",null,"Winner: ",r.a.createElement("b",null,c?o:"")))))}}]),a}(n.Component),ta=Object(p.b)(function(e,a){var t=v(e.playerCards),n=v(e.dealerCards).sum,r=e.roundResult,l=t.containAce&&21!==t.sum?t.sum-10+"/"+t.sum:t.sum;return Object(m.a)({},a,{display:0===e.dealerCards.length?"none":"block",playerTotal:l,dealerTotal:n,roundResult:r})},null)(aa),na=t(95),ra=t.n(na),la=(t(227),"dialog"),ca="title",oa="content",ia="sub-header",sa="how-to-play-section",ua="start-button",da=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.open,t=e.onStartGameClick;return r.a.createElement("div",null,r.a.createElement(k.a,{onClose:t,"aria-labelledby":"customized-dialog-title",open:a,className:la},r.a.createElement(N.a,{className:ca},"Welcome to the Blackjack Simulator \u2660\ufe0f"),r.a.createElement(R.a,{className:oa},r.a.createElement(B.a,{variant:"subheading",className:ia,gutterBottom:!0},"How to play:"),r.a.createElement(B.a,{gutterBottom:!0},"1: Click 'Next game' to start a new game."),r.a.createElement(B.a,{gutterBottom:!0},"2: Click 'Hit' if you ask for another card."),r.a.createElement(B.a,{gutterBottom:!0},"3: Click 'Stand' if do not want another card."),r.a.createElement(B.a,{gutterBottom:!0},"4: Click 'Reload' to start a new deck."),r.a.createElement(B.a,{variant:"subheading",className:sa,gutterBottom:!0},"For more information: ",r.a.createElement(ra.a,{variant:"subheading",inline:!0,href:"https://www.bicyclecards.com/how-to-play/blackjack/"},"How to play BlackJack"))),r.a.createElement(D.a,{className:ua},r.a.createElement(T.a,{variant:"extended",onClick:t,color:"primary","aria-label":"Add"},"Start Blackjack! \ud83c\udccf"))))}}]),a}(n.Component),ma=(t(229),"center-panel"),pa="center-panel-content",ha=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).state=void 0,t.startGame=function(){t.setState(function(){return{init:!1}})},t.state={init:!0},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state.init,a=r.a.createElement("div",{className:ma},r.a.createElement("div",{className:pa},r.a.createElement(de,null),r.a.createElement(ta,null),r.a.createElement(Ze,null)),r.a.createElement(H,null));return r.a.createElement(p.a,{store:be},r.a.createElement("div",{className:"App"},r.a.createElement(we,null),e?r.a.createElement(da,{onStartGameClick:this.startGame,open:e}):a))}}]),a}(n.Component);c.a.render(r.a.createElement(ha,null),document.getElementById("root"))},96:function(e,a,t){e.exports=t(230)}},[[96,1,2]]]);
//# sourceMappingURL=main.9caa2b44.chunk.js.map